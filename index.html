<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tieg Digital Hub</title>
<style>
body,html{margin:0;padding:0;font-family:Segoe UI,sans-serif;background:#f3f6fb}
nav{background:#0f172a;color:#fff;padding:14px;text-align:center;position:sticky;top:0}
nav a{color:#fff;margin:0 10px;text-decoration:none;font-weight:600}
header{background:#1e3a8a;color:#fff;padding:60px 20px;text-align:center}
.container{max-width:1000px;margin:auto;padding:40px 20px}
.card{background:#fff;padding:20px;border-radius:12px;margin-bottom:20px;box-shadow:0 6px 18px rgba(0,0,0,.08)}
.btn{background:#ff7e5f;color:#fff;padding:10px 18px;border-radius:8px;text-decoration:none;cursor:pointer;border:none}
.btn:hover{opacity:.9}/* CHAT PANEL HALF SCREEN */ #chatPanel{position:fixed;top:0;right:-50%;width:50%;height:100%;background:#fff;box-shadow:-6px 0 30px rgba(0,0,0,.2);display:flex;flex-direction:column;transition:.35s;z-index:3000} #chatPanel.open{right:0} .chatHeader{background:#0f172a;color:#fff;padding:15px;display:flex;justify-content:space-between;align-items:center} #chatMessages{flex:1;overflow-y:auto;padding:15px;background:#f8fafc;display:flex;flex-direction:column} .msg{max-width:70%;padding:10px 12px;border-radius:10px;margin-bottom:8px;font-size:14px} .userMsg{background:#ff7e5f;color:#fff;align-self:flex-end} .adminMsg{background:#e2e8f0;color:#111;align-self:flex-start} .chatInputBox{display:flex;padding:10px;border-top:1px solid #ddd} .chatInputBox input{flex:1;padding:10px;border:1px solid #ccc;border-radius:8px} .chatInputBox button{margin-left:8px}

/* AUTH */ .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);justify-content:center;align-items:center;z-index:4000} .modalContent{background:#fff;padding:30px;border-radius:12px;width:320px;text-align:center} .modalContent input{width:100%;padding:10px;margin:8px 0;border:1px solid #ccc;border-radius:6px} .error{color:red;font-size:14px} .authBtn{position:fixed;top:20px;right:20px;z-index:2000} </style>

</head>
<body><nav>
<a href="#home">Home</a>
<a href="#services">Services</a>
<a href="#pricing">Pricing</a>
<a href="#contact">Contact</a>
<a href="#" onclick="openChat()">Support</a>
</nav><header id="home">
<h1>Tieg Digital Hub</h1>
<p>Premium business websites & digital solutions</p>
</header><section class="container" id="services">
<div class="card"><h3>Web Development</h3><p>Modern responsive business websites.</p></div>
<div class="card"><h3>Mobile Apps</h3><p>Android & iOS solutions.</p></div>
</section><section class="container" id="pricing">
<div class="card">
<h3>Premium Website</h3>
<p>$1200 full solution with support & maintenance</p>
<button class="btn" onclick="buyNow()">Buy Now</button>
</div>
</section><section class="container" id="contact">
<div class="card"><h3>Contact</h3><p>Email: support@tiegdigital.com</p></div>
</section><!-- CHAT PANEL --><div id="chatPanel">
<div class="chatHeader">
<span>Live Support</span>
<button class="btn" onclick="closeChat()">Home</button>
</div>
<div id="chatMessages"></div>
<div class="chatInputBox">
<input id="chatInput" placeholder="Type message...">
<button class="btn" onclick="sendMsg()">Send</button>
</div>
</div><!-- AUTH --><div class="authBtn">
<button class="btn" onclick="openAuth()">Login</button>
</div><div id="authModal" class="modal">
<div class="modalContent">
<h3 id="authTitle">Login</h3>
<input id="email" placeholder="Email">
<input id="pass" type="password" placeholder="Password">
<button class="btn" onclick="submitAuth()">Continue</button>
<p id="authError" class="error"></p>
<p><a href="#" onclick="toggleAuth()" id="toggleLink">Create account</a></p>
<p><a href="#" onclick="resetPass()">Forgot password</a></p>
</div>
</div><script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script><script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script><script>
const firebaseConfig={apiKey:"AIzaSyDzeFZfqReHMHaZMlIfrfqAyjG3v2nfj-4",authDomain:"content-platform-5a902.firebaseapp.com",projectId:"content-platform-5a902"};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();
const adminEmail="tiegmicheal@gmail.com";
let currentUser=null;
let mode="login";
let unsub=null;

function openAuth(){document.getElementById("authModal").style.display="flex"}
function closeAuth(){document.getElementById("authModal").style.display="none";showErr("")}
function toggleAuth(){mode=mode==="login"?"signup":"login";document.getElementById("authTitle").innerText=mode==="login"?"Login":"Sign Up";document.getElementById("toggleLink").innerText=mode==="login"?"Create account":"Login"}
function showErr(t){document.getElementById("authError").innerText=t}

function submitAuth(){
const email=document.getElementById("email").value.trim();
const pass=document.getElementById("pass").value.trim();
if(!email||!pass){showErr("Enter email & password");return}

if(mode==="login"){
auth.signInWithEmailAndPassword(email,pass)
.then(r=>{currentUser=r.user;closeAuth();openChat();})
.catch(()=>showErr("Incorrect email or password"));
}else{
auth.createUserWithEmailAndPassword(email,pass)
.then(r=>{currentUser=r.user;closeAuth();openChat();})
.catch(()=>showErr("Account creation failed"));
}
}

function resetPass(){
const email=document.getElementById("email").value.trim();
if(!email){showErr("Enter email first");return}
auth.sendPasswordResetEmail(email).then(()=>showErr("Password reset email sent"));
}

auth.onAuthStateChanged(u=>{currentUser=u});

function openChat(){
if(!currentUser){openAuth();return}
document.getElementById("chatPanel").classList.add("open");
startListener();
}
function closeChat(){document.getElementById("chatPanel").classList.remove("open");if(unsub)unsub();}

function buyNow(){openChat();sendMsg("Interested in Premium Website");}

function sendMsg(textParam){
if(!currentUser)return;
const text=textParam||document.getElementById("chatInput").value.trim();
if(!text)return;
const conversationId=currentUser.uid;
db.collection("conversations").doc(conversationId).collection("messages").add({
text:text,
sender:currentUser.email===adminEmail?"admin":"user",
email:currentUser.email,
time:Date.now()
});
document.getElementById("chatInput").value="";
}

function startListener(){
if(!currentUser)return;
const box=document.getElementById("chatMessages");
box.innerHTML="";
if(unsub)unsub();
if(currentUser.email===adminEmail){
unsub=db.collectionGroup("messages").orderBy("time")
.onSnapshot(snap=>renderMsgs(snap,box));
}else{
const conversationId=currentUser.uid;
unsub=db.collection("conversations").doc(conversationId).collection("messages").orderBy("time")
.onSnapshot(snap=>renderMsgs(snap,box));
}
}

function renderMsgs(snap,box){
box.innerHTML="";
snap.forEach(d=>{
const m=d.data();
const div=document.createElement("div");
div.className="msg "+(m.sender==="admin"?"adminMsg":"userMsg");
div.innerText=(m.sender==="admin"?"Admin: ":"You: ")+m.text;
box.appendChild(div);
});
box.scrollTop=box.scrollHeight;
}
</script></body>
</html>